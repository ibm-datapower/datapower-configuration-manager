<?xml version="1.0"?>
<project name="security-password-map-operations" basedir="." default="security-password-map-operations">
    
    <!--
        Password map operations.
    -->
    <import file="common-definitions.ant.xml" optional="no"/>
	
    <target name="security-password-map-operations">
        
<!--
    
    Unable to do this operation, get this error:
    
    cli	error	  	1052752	 	  	0x81000224	=== Line 2: password-map
    cli	error	  	1052752	 	  	0x81000001	*** Unknown command or macro
    
    It certainly appears that SOMA generates incorrect code here.  Can't test the rest of the operations without this.
        
        <wdp operation="PasswordMap" dumpinput="${dumpinput}" dumpoutput="${dumpoutput}" capturesoma="${capturesoma}">
            <hostname>${hostname}</hostname>
            <uid>${uid}</uid>
            <pwd>${pwd}</pwd>
        </wdp>
        
        <echo>Successfully create the empty password map for ${hostname}</echo>
        
        
        <wdp operation="AddPasswordMap" dumpinput="${dumpinput}" dumpoutput="${dumpoutput}" capturesoma="${capturesoma}">
            <aliasname>first</aliasname>
            <type>real-password</type>
            <hostname>${hostname}</hostname>
            <uid>${uid}</uid>
            <pwd>${pwd}</pwd>
        </wdp>
        
        <echo>Successfully added "first" to password map for ${hostname}</echo>
        
        
        <wdp operation="TestPasswordMap" dumpinput="${dumpinput}" dumpoutput="${dumpoutput}" capturesoma="${capturesoma}">
            <aliasname>first</aliasname>
            <type>real-password</type>
            <remote>temporary:///junk.txt</remote>
            <hostname>${hostname}</hostname>
            <uid>${uid}</uid>
            <pwd>${pwd}</pwd>
        </wdp>
        
        <echo>Successfully added "first" to password map for ${hostname}</echo>
        
        
        <wdp operation="DeletePasswordMap" dumpinput="${dumpinput}" dumpoutput="${dumpoutput}" capturesoma="${capturesoma}">
            <aliasname>first</aliasname>
            <hostname>${hostname}</hostname>
            <uid>${uid}</uid>
            <pwd>${pwd}</pwd>
        </wdp>
        
        <echo>Successfully removed "first" from password map for ${hostname}</echo>
        
        
        <wdp operation="NoPasswordMap" dumpinput="${dumpinput}" dumpoutput="${dumpoutput}" capturesoma="${capturesoma}">
            <hostname>${hostname}</hostname>
            <uid>${uid}</uid>
            <pwd>${pwd}</pwd>
        </wdp>
        
        <echo>Successfully removed the password map for ${hostname}</echo>
-->
        
    </target>
    
</project>
